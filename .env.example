# Mealie connection (user/environment specific)
MEALIE_URL=http://your.server.ip.address:9000/api
MEALIE_API_KEY=your_mealie_api_key
# Legacy parser compatibility aliases (deprecated; keep blank unless migrating)
# MEALIE_BASE_URL=http://your.server.ip.address:9000/api
# MEALIE_API_TOKEN=your_mealie_api_key

# Provider selection (user/environment specific)
CATEGORIZER_PROVIDER=chatgpt

# Runtime safety (user/environment specific)
DRY_RUN=false

# Docker image source (used by docker-compose.yml)
MEALIE_ORGANIZER_IMAGE=ghcr.io/thekannen/mealie-organizer
MEALIE_ORGANIZER_TAG=latest
# Used by docker-compose.build.yml when opting into local builds
# MEALIE_ORGANIZER_LOCAL_IMAGE=mealie-organizer:local

# Provider model selection (user/environment specific)
OLLAMA_MODEL=mistral:7b
OPENAI_MODEL=gpt-4o-mini

# Ollama endpoint (set this when Ollama runs on another machine)
# Example for Docker on Linux host: http://host.docker.internal:11434/api
OLLAMA_URL=http://host.docker.internal:11434/api

# Taxonomy refresh mode for TASK=taxonomy-refresh
# merge: keep existing categories/tags and add missing from templates
# replace: delete existing categories/tags first, then import templates
TAXONOMY_REFRESH_MODE=merge

# Data maintenance task controls
# TASK options:
# categorize, taxonomy-refresh, taxonomy-audit, cookbook-sync,
# ingredient-parse, foods-cleanup, units-cleanup, labels-sync, tools-sync, data-maintenance
# TASK=categorize
# CLEANUP_APPLY=false
# MAINTENANCE_APPLY_CLEANUPS=false
# MAINTENANCE_STAGES=parse,foods,units,taxonomy,categorize,cookbooks,audit
# MAX_ACTIONS_PER_STAGE=250
# CHECKPOINT_DIR=cache/maintenance

# Parser tuning
# CONFIDENCE_THRESHOLD=0.8
# PARSER_STRATEGIES=nlp,openai
# FORCE_PARSER=
# PAGE_SIZE=200
# REQUEST_TIMEOUT_SECONDS=30
# REQUEST_RETRIES=3
# REQUEST_BACKOFF_SECONDS=0.4
# MAX_RECIPES=500
# AFTER_SLUG=
# OUTPUT_DIR=reports
# LOW_CONFIDENCE_FILE=review_low_confidence.json
# SUCCESS_FILE=parsed_success.log

# Foods/Units/Labels/Tools config overrides
# FOODS_REPORT_FILE=reports/foods_cleanup_report.json
# FOODS_ALLOW_FUZZY=false
# UNITS_ALIAS_FILE=configs/taxonomy/units_aliases.json
# UNITS_REPORT_FILE=reports/units_cleanup_report.json
# LABELS_FILE=configs/taxonomy/labels.json
# TOOLS_FILE=configs/taxonomy/tools.json

# Optional performance overrides
# BATCH_SIZE=2
# MAX_WORKERS=3

# Optional provider secrets
# Required when CATEGORIZER_PROVIDER=chatgpt
OPENAI_API_KEY=your_openai_api_key
